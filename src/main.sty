% !TEX root = ./main.tex
%% packages
\usepackage{fontspec} % font selection under LuaLaTeX/XeTeX

\usepackage[
  shortlabels,
  inline,
]{enumitem} % control over enumerations

\usepackage[
  % draft=false,
  newfloat,
]{minted} % highlighted code

\usepackage{acronym} % acronym management
\usepackage{amsfonts}       % other math fonts
\usepackage{amsmath}        % math
\usepackage{amsthm}         % typesetting theorems
% \usepackage{amssymb}        % symbol fonts
\usepackage{array}          % array and tabular extensions
\usepackage{booktabs}       % to enhance table quality
\usepackage{caption}        % caption customization
\usepackage{color}          % color control
\usepackage{colortbl}       % table cell coloring
\usepackage{float}          % improved interface for floating objs
\usepackage{graphicx}       % enchanced support for graphics
\usepackage{mathtools}      % math tools that complement amsmath
\usepackage{multirow}       % for multirow/col tables
\usepackage{longtable}      % for tables that exceed a page in length
\usepackage{pgfplots}       % create plots
\usepackage{pifont}         % ps symbols and dingbats
\usepackage{subcaption}     % support for sub-captions
\usepackage{tabularx}       % adjustable-width column tabulars
\usepackage{tkz-euclide}    % drawing geometrical constructs
\usepackage{url}            % verbatim with URL-sensitive line breaks
\usepackage{verbatim}       % extensions to verbatim
\usepackage{xcolor}         % color extensions

\usepackage[draft=false]{hyperref} % hypertext support
\usepackage[noabbrev]{cleveref}    % intelligent cross-referencing


%% configuration
\newcommand{\geomlibrary}{\textit{Exact Geometric Computation Library}}
\newcommand{\wrapper}{\textit{Wrapper Code}}
\newcommand{\primitives}{\textit{Geometric Constraint Primitives}}

% caption
\captionsetup[sub]{
  skip=0.3cm,
  margin=0.2cm
}
\captionsetup{subrefformat=parens}

% cleveref
% undo @cref labels for acronyms after \acresetall
\makeatletter
\newcommand*{\org@overridelabel}{}
\let\org@overridelabel\@verridelabel
\@ifpackagelater{acronym}{2015/03/21}{% v1.41
  \renewcommand*{\@verridelabel}[1]{%
    \@bsphack
    \protected@write\@auxout{}{\string\AC@undonewlabel{#1@cref}}%
    \org@overridelabel{#1}%
    \@esphack
  }%
}{% older versions
  \renewcommand*{\@verridelabel}[1]{%
    \@bsphack
    \protected@write\@auxout{}{\string\undonewlabel{#1@cref}}%
    \org@overridelabel{#1}%
    \@esphack
  }%
}
\makeatother

% color
\definecolor{forestgreen}{RGB}{34,139,34}
\definecolor{orangered}{RGB}{239,134,64}
\definecolor{lightred}{rgb}{1,0.4,0.5}
\definecolor{orange}{rgb}{1,0.45,0.13}  
\definecolor{darkblue}{rgb}{0.0,0.0,0.6}
\definecolor{lightblue}{rgb}{0.1,0.57,0.7}
\definecolor{gray}{rgb}{0.4,0.4,0.4}
\definecolor{lightgray}{rgb}{0.95, 0.95, 0.95}
\definecolor{darkgray}{rgb}{0.4, 0.4, 0.4}
\definecolor{editorGray}{rgb}{0.95, 0.95, 0.95}
\definecolor{editorOcher}{rgb}{1, 0.5, 0} % #FF7F00 -> rgb(239, 169, 0)
\definecolor{chaptergrey}{rgb}{0.6,0.6,0.6}
\definecolor{editorGreen}{rgb}{0, 0.5, 0} % #007C00 -> rgb(0, 124, 0)
\definecolor{olive}{rgb}{0.17,0.59,0.20}
\definecolor{brown}{rgb}{0.69,0.31,0.31}
\definecolor{purple}{rgb}{0.38,0.18,0.81}

% enumitem
\setlist[description]{
  leftmargin=\parindent,
  labelindent=\parindent,
  itemsep=1pt,
  parsep=0pt,
  topsep=0pt
}

% fontspec
\setmonofont{JuliaMono}[
  UprightFont = *-Regular,
  BoldFont    = *-Bold,
  Scale       = MatchLowercase,
  Contextuals = NoAlternate
]

% listing
\newenvironment{longlisting}
  {\bigskip\begingroup
   \let\oldbaselinestretch\baselinestretch
   \renewcommand{\baselinestretch}{1}
   \captionsetup{type=listing}}
  {\let\baselinestretch\oldbaselinestretch
   \endgroup\bigskip}

% minted
\usemintedstyle{friendly}
\renewcommand{\theFancyVerbLine}{\small\arabic{FancyVerbLine}}
\setminted{
  autogobble,
  fontsize=\footnotesize,
  frame=lines,
  linenos,
  numbersep=4pt,
}

% natbib
% \setcitestyle{numbers,sort&compress}

% pgfplots
\usetikzlibrary{backgrounds}
\pgfplotsset{compat=1.17}

% pifont
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}
